!function(q){if("object"==typeof exports)module.exports=q();else if("function"==typeof define&&define.amd)define(q);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self);f.wireframe=q()}}(function(){return function f(k,g,e){function c(b,p){if(!g[b]){if(!k[b]){var m="function"==typeof require&&require;if(!p&&m)return m(b,!0);if(a)return a(b,!0);throw Error("Cannot find module '"+b+"'");}m=g[b]={exports:{}};k[b][0].call(m.exports,function(a){var p=
k[b][1][a];return c(p?p:a)},m,m.exports,f,k,g,e)}return g[b].exports}for(var a="function"==typeof require&&require,b=0;b<e.length;b++)c(e[b]);return c}({1:[function(f,k,g){function e(a){this.canvas=document.getElementById(a.canvas_id);this.ctx=this.canvas.getContext("2d");this.camera=new c;this.meshes=[];this.keys={};this._anim_id=null;this.init()}function c(a,d){this.position=a||new b(0,0,0);this.target=d||new b(0,0,0);this.up=new b(0,1,0)}g=f("./math.js");var a=f("./keycodes.js"),b=g.Vector,d=g.Matrix;
e.prototype.init=function(){this.canvas.tabIndex=1;this._x_offset=Math.round(this.canvas.width/2);this._y_offset=Math.round(this.canvas.height/2);this.update();this.canvas.addEventListener("keydown",this.onKeyDown.bind(this),!1);this.canvas.addEventListener("keyup",this.onKeyUp.bind(this),!1);this.canvas.addEventListener("blur",this.emptyKeys.bind(this),!1)};e.prototype.onUpdate=function(){};e.prototype.emptyKeys=function(){this.keys={}};e.prototype.isKeyDown=function(b){return a[b]in this.keys};
e.prototype.onKeyDown=function(a){this.keys[a.keyCode||a.which]=!0};e.prototype.onKeyUp=function(a){delete this.keys[a.keyCode||a.which]};e.prototype.worldProjection=function(a,b,d){return a.rotatePitchYawRoll(b.pitch,b.roll,b.yaw).add(d)};e.prototype.renderMesh=function(a){for(var b=[],d=0,e=a.vertices.length;d<e;d++)b.push(this.worldProjection(a.vertices[d]));this.ctx.beginPath();this.ctx.moveTo(b[0].x,b[0].y);a=1;for(d=b.length;a<d;a++)this.ctx.lineTo(b[a].x,b[a].y);this.ctx.strokeStyle="red";
this.ctx.stroke();this.ctx.closePath()};e.prototype.drawVector=function(a,b){this.ctx.beginPath();this.ctx.arc(a.x+this._x_offset,a.y+this._y_offset,2,0,2*Math.PI,!0);this.ctx.fillStyle=b;this.ctx.fill();this.ctx.closePath()};e.prototype.drawEdge=function(a,b,d){this.ctx.beginPath();this.ctx.moveTo(a.x+this._x_offset,a.y+this._y_offset);this.ctx.lineTo(b.x+this._x_offset,b.y+this._y_offset);this.ctx.lineWidth=2;this.ctx.strokeStyle=d;this.ctx.stroke();this.ctx.closePath()};e.prototype.renderScene=
function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var a=0,b=this.meshes.length;a<b;a++)for(var e=this.meshes[a],c=e.rotation,h=e.position,c=d.rotation(c.pitch,c.yaw,c.roll),h=d.translation(h.x,h.y,h.z),h=c.multiply(h),c=0;c<e.edges.length;c++){var l=e.edges[c].edge,f=e.edges[c].color,g=e.vertices[l[1]].vector,l=e.vertices[l[0]].vector.transform(h),g=g.transform(h);this.drawEdge(l,g,f)}};e.prototype.addMesh=function(a){this.meshes.push(a)};e.prototype.removeMesh=function(a){};
e.prototype.update=function(){this.onUpdate();this.renderScene();this._anim_id=window.requestAnimationFrame(this.update.bind(this))};c.prototype.eyeDistance=function(){};c.prototype.moveTo=function(a){};c.prototype.moveRight=function(){};c.prototype.moveLeft=function(){};c.prototype.moveUp=function(){};c.prototype.moveDown=function(){};c.prototype.orbitTo=function(){};c.prototype.zoomIn=function(){};c.prototype.zoomOut=function(){};c.prototype.orbitLeft=function(){};c.prototype.orbitRight=function(){};
k.exports={engine:{Scene:e,Camera:c},math:g}},{"./keycodes.js":2,"./math.js":3}],2:[function(f,k,g){k.exports={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause_break:19,caps_lock:20,escape:27,page_up:33,"page down":34,end:35,home:36,left_arrow:37,up_arrow:38,right_arrow:39,down_arrow:40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"left_window key":91,
"right_window key":92,select_key:93,"numpad 0":96,"numpad 1":97,"numpad 2":98,"numpad 3":99,"numpad 4":100,"numpad 5":101,"numpad 6":102,"numpad 7":103,"numpad 8":104,"numpad 9":105,multiply:106,add:107,subtract:109,"decimal point":110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,num_lock:144,scroll_lock:145,semi_colon:186,equal_sign:187,comma:188,dash:189,period:190,forward_slash:191,grave_accent:192,open_bracket:219,backslash:220,closebracket:221,
single_quote:222}},{}],3:[function(f,k,g){function e(){this.m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}function c(a,b,d){this.x=a;this.y=b;this.z=d}e.prototype.equals=function(a){for(var b=0,d=this.m.length;b<d;b++)if(this.m[b]!==a.m[b])return!1;return!0};e.prototype.add=function(a){for(var b=new e,d=0,c=this.m.length;d<c;d++)b.m[d]=this.m[d]+a.m[d];return b};e.prototype.subtract=function(a){for(var b=new e,d=0,c=this.m.length;d<c;d++)this.m[d]-=a.m[d];return b};e.prototype.multiplyScalar=function(a){for(var b=
new e,d=0,c=this.m.length;d<c;d++)this.m[d]*=a;return b};e.prototype.multiply=function(a){var b=new e;b.m[0]=this.m[0]*a.m[0]+this.m[1]*a.m[4]+this.m[2]*a.m[8]+this.m[3]*a.m[12];b.m[1]=this.m[0]*a.m[1]+this.m[1]*a.m[5]+this.m[2]*a.m[9]+this.m[3]*a.m[13];b.m[2]=this.m[0]*a.m[2]+this.m[1]*a.m[6]+this.m[2]*a.m[10]+this.m[3]*a.m[14];b.m[3]=this.m[0]*a.m[3]+this.m[1]*a.m[7]+this.m[2]*a.m[11]+this.m[3]*a.m[15];b.m[4]=this.m[4]*a.m[0]+this.m[5]*a.m[4]+this.m[6]*a.m[8]+this.m[7]*a.m[12];b.m[5]=this.m[4]*
a.m[1]+this.m[5]*a.m[5]+this.m[6]*a.m[9]+this.m[7]*a.m[13];b.m[6]=this.m[4]*a.m[2]+this.m[5]*a.m[6]+this.m[6]*a.m[10]+this.m[7]*a.m[14];b.m[7]=this.m[4]*a.m[3]+this.m[5]*a.m[7]+this.m[6]*a.m[11]+this.m[7]*a.m[15];b.m[8]=this.m[8]*a.m[0]+this.m[9]*a.m[4]+this.m[10]*a.m[8]+this.m[11]*a.m[12];b.m[9]=this.m[8]*a.m[1]+this.m[9]*a.m[5]+this.m[10]*a.m[9]+this.m[11]*a.m[13];b.m[10]=this.m[8]*a.m[2]+this.m[9]*a.m[6]+this.m[10]*a.m[10]+this.m[11]*a.m[14];b.m[11]=this.m[8]*a.m[3]+this.m[9]*a.m[7]+this.m[10]*
a.m[11]+this.m[11]*a.m[15];b.m[12]=this.m[12]*a.m[0]+this.m[13]*a.m[4]+this.m[14]*a.m[8]+this.m[15]*a.m[12];b.m[13]=this.m[12]*a.m[1]+this.m[13]*a.m[5]+this.m[14]*a.m[9]+this.m[15]*a.m[13];b.m[14]=this.m[12]*a.m[2]+this.m[13]*a.m[6]+this.m[14]*a.m[10]+this.m[15]*a.m[14];b.m[15]=this.m[12]*a.m[3]+this.m[13]*a.m[7]+this.m[14]*a.m[11]+this.m[15]*a.m[15];return b};e.prototype.negate=function(a){a=new e;for(var b=0,d=this.matrix.length;b<d;b++)this.matrix.m[b]=-this.matrix.m[b];return a};e.prototype.transpose=
function(){var a=new e;a.m[0]=this.m[0];a.m[1]=this.m[4];a.m[2]=this.m[8];a.m[3]=this.m[12];a.m[4]=this.m[1];a.m[5]=this.m[5];a.m[6]=this.m[9];a.m[7]=this.m[13];a.m[8]=this.m[2];a.m[9]=this.m[6];a.m[10]=this.m[10];a.m[11]=this.m[14];a.m[12]=this.m[3];a.m[13]=this.m[7];a.m[14]=this.m[11];a.m[15]=this.m[15];return a};e.rotationX=function(a){var b=new e,d=Math.cos(a);a=Math.sin(a);b.m[0]=1;b.m[5]=d;b.m[6]=-a;b.m[9]=a;b.m[10]=d;b.m[15]=1;return b};e.rotationY=function(a){var b=new e,d=Math.cos(a);a=Math.sin(a);
b.m[0]=d;b.m[2]=a;b.m[5]=1;b.m[8]=-a;b.m[10]=d;b.m[15]=1;return b};e.rotationZ=function(a){var b=new e,d=Math.cos(a);a=Math.sin(a);b.m[0]=d;b.m[1]=-a;b.m[4]=a;b.m[5]=d;b.m[10]=1;b.m[15]=1;return b};e.rotationAxis=function(a,b){var d=new e,c=a.normalize(),m=Math.sin(b),g=Math.cos(b),f=1-g,h=c.x,l=c.y,c=c.z,k=h*l,n=h*c,s=l*c;d.m[0]=g+h*h*f;d.m[1]=k*f-c*m;d.m[2]=n*f+l*m;d.m[4]=k*f+c*m;d.m[5]=g+l*l*f;d.m[6]=s*f-h*m;d.m[8]=n*f-l*m;d.m[9]=s*f+h*m;d.m[10]=g+c*c*f;d.m[15]=1;return d};e.rotation=function(a,
b,d){return e.rotationX(d).multiply(e.rotationZ(b)).multiply(e.rotationY(a))};e.translation=function(a,b,d){var c=e.identity();c.m[12]=a;c.m[13]=b;c.m[14]=d;return c};e.scaling=function(a,b,d){var c=new e;c.m[0]=a;c.m[5]=b;c.m[10]=d;c.m[15]=1;return c};e.identity=function(){var a=new e;a.m[0]=1;a.m[5]=1;a.m[10]=1;a.m[15]=1;return a};e.fromArray=function(a){for(var b=new e,c=0;16>c;c++)b.m[c]=a[c];return b};c.prototype.add=function(a){return new c(this.x+a.x,this.y+a.y,this.z+a.z)};c.prototype.subtract=
function(a){return new c(this.x-a.x,this.y-a.y,this.z-a.z)};c.prototype.equal=function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z};c.prototype.angle=function(a){var b=this.normalize();a=a.normalize();return Math.acos(b.dot(a)/(b.magnitude()*a.magnitude()))};c.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};c.prototype.magnitudeSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z};c.prototype.dot=function(a){return this.x*a.x+this.y*
a.y+this.z*a.z};c.prototype.cross=function(a){return new c(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x)};c.prototype.normalize=function(){var a=this.magnitude();if(0===a)throw"Zero Division Error";return new c(this.x/a,this.y/a,this.z/a)};c.prototype.scale=function(a){return new c(this.x*a,this.y*a,this.z*a)};c.prototype.vectorProjection=function(a){return this.magnitude()*Math.cos(this.angle(a))};c.prototype.scalarProjection=function(a){return this.dot(a.normalize())*a.normalize};
c.prototype.comp=function(a){return this.dot(a)/this.magnitude()};c.prototype.rotate=function(a,b){var d=a.normalize(),e=Math.sin(b),f=Math.cos(b),g=1-f,k=d.x,h=d.y,l=d.z,r=d.x*d.y,n=(f+k*k*g)*this.x+(r*g-l*e)*this.y+(d.x*d.z*g+h*e)*this.z;return new c(n,(r*g+l*e)*this.x+(f+h*h*g)*this.y+(d.y*d.z*g-k*e)*this.z,n)};c.prototype.transform=function(a){var b=this.x*a.m[3]+this.y*a.m[7]+this.z*a.m[11]+a.m[15];return new c((this.x*a.m[0]+this.y*a.m[4]+this.z*a.m[8]+a.m[12])/b,(this.x*a.m[1]+this.y*a.m[5]+
this.z*a.m[9]+a.m[13])/b,(this.x*a.m[2]+this.y*a.m[6]+this.z*a.m[10]+a.m[14])/b)};c.prototype.rotateX=function(a){var b=Math.sin(a);a=Math.cos(a);return new c(this.x,a*this.y-b*this.z,b*this.y+a*this.z)};c.prototype.rotateY=function(a){var b=Math.sin(a);a=Math.cos(a);return new c(a*this.x+b*this.z,this.y,-(b*this.x)+a*this.z)};c.prototype.rotateZ=function(a){var b=Math.sin(a);a=Math.cos(a);return new c(a*this.x-b*this.y,b*this.x+a*this.y,this.z)};c.prototype.rotatePitchYawRoll=function(a,b,c){return this.rotateX(c).rotateY(a).rotateZ(b)};
k.exports={Vector:c,Vertex:function(a,b){this.vector=a;this.color=b},Mesh:function(a,b,d){this.name=a;this.vertices=b;this.edges=d;this.position=new c(0,0,0);this.rotation={yaw:0,pitch:0,roll:0}},Matrix:e}},{}]},{},[1])(1)});

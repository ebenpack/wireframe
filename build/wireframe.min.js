!function(r){if("object"==typeof exports)module.exports=r();else if("function"==typeof define&&define.amd)define(r);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self);f.wireframe=r()}}(function(){return function f(g,k,d){function c(b,q){if(!k[b]){if(!g[b]){var p="function"==typeof require&&require;if(!q&&p)return p(b,!0);if(a)return a(b,!0);throw Error("Cannot find module '"+b+"'");}p=k[b]={exports:{}};g[b][0].call(p.exports,function(a){var q=
g[b][1][a];return c(q?q:a)},p,p.exports,f,g,k,d)}return k[b].exports}for(var a="function"==typeof require&&require,b=0;b<d.length;b++)c(d[b]);return c}({1:[function(f,g,k){function d(a){this.canvas=document.getElementById(a.canvas_id);this.ctx=this.canvas.getContext("2d");this.camera=new c;this.meshes=[];this.keys={};this._anim_id=null;this._needs_update=!0;this.init()}function c(a,e){this.position=a||new b(1,1,20);this.target=e||new b(0,0,0);this.up=new b(0,1,0);this.view_matrix=this.lookAt();this.near=
0.1;this.far=1E3;this.fov=90}k=f("./math.js");var a=f("./keycodes.js"),b=k.Vector,e=k.Matrix;d.prototype.init=function(){this.canvas.tabIndex=1;this._x_offset=Math.round(this.canvas.width/2);this._y_offset=Math.round(this.canvas.height/2);this.update();this.canvas.addEventListener("keydown",this.onKeyDown.bind(this),!1);this.canvas.addEventListener("keyup",this.onKeyUp.bind(this),!1);this.canvas.addEventListener("blur",this.emptyKeys.bind(this),!1)};d.prototype.onUpdate=function(){};d.prototype.emptyKeys=
function(){this.keys={}};d.prototype.isKeyDown=function(b){return a[b]in this.keys};d.prototype.onKeyDown=function(a){this.keys[a.keyCode||a.which]=!0};d.prototype.onKeyUp=function(a){delete this.keys[a.keyCode||a.which]};d.prototype.perspectiveFov=function(){var a=Math.PI/180*this.camera.fov,b=this.canvas.width/this.canvas.height,d=this.camera.near,c=this.camera.far,h=e.zero(),a=1/Math.tan(a/2)*this.canvas.height;h.m[0]=a*b;h.m[5]=a;h.m[10]=c/(d-c);h.m[11]=-1;h.m[14]=d*c/(d-c);return h};d.prototype.drawEdge=
function(a,b,e){this.ctx.beginPath();this.ctx.moveTo(a.x+this._x_offset,a.y+this._y_offset);this.ctx.lineTo(b.x+this._x_offset,b.y+this._y_offset);this.ctx.lineWidth=1;this.ctx.strokeStyle=e;this.ctx.stroke();this.ctx.closePath()};d.prototype.renderScene=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var a=this.camera.view_matrix,b=this.perspectiveFov(),d=0,c=this.meshes.length;d<c;d++)for(var h=this.meshes[d],l=h.scale,m=h.rotation,n=h.position,l=e.scale(l.x,l.y,l.z).multiply(e.rotation(m.pitch,
m.yaw,m.roll).multiply(e.translation(n.x,n.y,n.z))).multiply(a).multiply(b),m=0;m<h.faces.length;m++){var f=h.faces[m].face,n=h.faces[m].color,k=h.vertices[f[1]].vector,g=h.vertices[f[2]].vector,f=h.vertices[f[0]].vector.transform(l),k=k.transform(l),g=g.transform(l);this.drawEdge(f,k,n);this.drawEdge(k,g,n);this.drawEdge(g,f,n)}};d.prototype.addMesh=function(a){this.meshes.push(a)};d.prototype.removeMesh=function(a){};d.prototype.update=function(){this.onUpdate();this._needs_update&&(this.renderScene(),
this._needs_update=!1);this._anim_id=window.requestAnimationFrame(this.update.bind(this))};c.prototype.lookAt=function(){var a=this.position,b=this.up,d=a.subtract(this.target).normalize(),b=b.cross(d).normalize(),c=d.cross(b);return e.fromArray([b.x,c.x,d.x,0,b.y,c.y,d.y,0,b.z,c.z,d.z,0,-b.dot(a),-c.dot(a),-d.dot(a),1])};c.prototype.moveTo=function(a,b,e){this.position.x=a;this.position.y=b;this.position.z=e;this.view_matrix=this.lookAt()};c.prototype.moveRight=function(a){this.position.x+=a;this.view_matrix=
this.lookAt()};c.prototype.moveLeft=function(a){this.position.x-=a;this.view_matrix=this.lookAt()};c.prototype.moveUp=function(a){this.position.y-=a;this.view_matrix=this.lookAt()};c.prototype.moveDown=function(a){this.position.y+=a;this.view_matrix=this.lookAt()};c.prototype.orbitTo=function(){};c.prototype.zoomIn=function(a){this.position.z+=a;this.view_matrix=this.lookAt()};c.prototype.zoomOut=function(a){this.position.z-=a;this.view_matrix=this.lookAt()};c.prototype.orbitLeft=function(){};c.prototype.orbitRight=
function(){};g.exports={engine:{Scene:d,Camera:c},math:k}},{"./keycodes.js":2,"./math.js":3}],2:[function(f,g,k){g.exports={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause_break:19,caps_lock:20,escape:27,page_up:33,"page down":34,end:35,home:36,left_arrow:37,up_arrow:38,right_arrow:39,down_arrow:40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,
y:89,z:90,"left_window key":91,"right_window key":92,select_key:93,"numpad 0":96,"numpad 1":97,"numpad 2":98,"numpad 3":99,"numpad 4":100,"numpad 5":101,"numpad 6":102,"numpad 7":103,"numpad 8":104,"numpad 9":105,multiply:106,add:107,subtract:109,"decimal point":110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,num_lock:144,scroll_lock:145,semi_colon:186,equal_sign:187,comma:188,dash:189,period:190,forward_slash:191,grave_accent:192,open_bracket:219,
backslash:220,closebracket:221,single_quote:222}},{}],3:[function(f,g,k){function d(){this.m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}function c(a,b,e){this.x=a;this.y=b;this.z=e}d.prototype.equals=function(a){for(var b=0,e=this.m.length;b<e;b++)if(this.m[b]!==a.m[b])return!1;return!0};d.prototype.add=function(a){for(var b=new d,e=0,c=this.m.length;e<c;e++)b.m[e]=this.m[e]+a.m[e];return b};d.prototype.subtract=function(a){for(var b=new d,e=0,c=this.m.length;e<c;e++)this.m[e]-=a.m[e];return b};d.prototype.multiplyScalar=
function(a){for(var b=new d,e=0,c=this.m.length;e<c;e++)this.m[e]*=a;return b};d.prototype.multiply=function(a){var b=new d;b.m[0]=this.m[0]*a.m[0]+this.m[1]*a.m[4]+this.m[2]*a.m[8]+this.m[3]*a.m[12];b.m[1]=this.m[0]*a.m[1]+this.m[1]*a.m[5]+this.m[2]*a.m[9]+this.m[3]*a.m[13];b.m[2]=this.m[0]*a.m[2]+this.m[1]*a.m[6]+this.m[2]*a.m[10]+this.m[3]*a.m[14];b.m[3]=this.m[0]*a.m[3]+this.m[1]*a.m[7]+this.m[2]*a.m[11]+this.m[3]*a.m[15];b.m[4]=this.m[4]*a.m[0]+this.m[5]*a.m[4]+this.m[6]*a.m[8]+this.m[7]*a.m[12];
b.m[5]=this.m[4]*a.m[1]+this.m[5]*a.m[5]+this.m[6]*a.m[9]+this.m[7]*a.m[13];b.m[6]=this.m[4]*a.m[2]+this.m[5]*a.m[6]+this.m[6]*a.m[10]+this.m[7]*a.m[14];b.m[7]=this.m[4]*a.m[3]+this.m[5]*a.m[7]+this.m[6]*a.m[11]+this.m[7]*a.m[15];b.m[8]=this.m[8]*a.m[0]+this.m[9]*a.m[4]+this.m[10]*a.m[8]+this.m[11]*a.m[12];b.m[9]=this.m[8]*a.m[1]+this.m[9]*a.m[5]+this.m[10]*a.m[9]+this.m[11]*a.m[13];b.m[10]=this.m[8]*a.m[2]+this.m[9]*a.m[6]+this.m[10]*a.m[10]+this.m[11]*a.m[14];b.m[11]=this.m[8]*a.m[3]+this.m[9]*
a.m[7]+this.m[10]*a.m[11]+this.m[11]*a.m[15];b.m[12]=this.m[12]*a.m[0]+this.m[13]*a.m[4]+this.m[14]*a.m[8]+this.m[15]*a.m[12];b.m[13]=this.m[12]*a.m[1]+this.m[13]*a.m[5]+this.m[14]*a.m[9]+this.m[15]*a.m[13];b.m[14]=this.m[12]*a.m[2]+this.m[13]*a.m[6]+this.m[14]*a.m[10]+this.m[15]*a.m[14];b.m[15]=this.m[12]*a.m[3]+this.m[13]*a.m[7]+this.m[14]*a.m[11]+this.m[15]*a.m[15];return b};d.prototype.negate=function(a){a=new d;for(var b=0,e=this.matrix.length;b<e;b++)this.matrix.m[b]=-this.matrix.m[b];return a};
d.prototype.transpose=function(){var a=new d;a.m[0]=this.m[0];a.m[1]=this.m[4];a.m[2]=this.m[8];a.m[3]=this.m[12];a.m[4]=this.m[1];a.m[5]=this.m[5];a.m[6]=this.m[9];a.m[7]=this.m[13];a.m[8]=this.m[2];a.m[9]=this.m[6];a.m[10]=this.m[10];a.m[11]=this.m[14];a.m[12]=this.m[3];a.m[13]=this.m[7];a.m[14]=this.m[11];a.m[15]=this.m[15];return a};d.rotationX=function(a){var b=new d,e=Math.cos(a);a=Math.sin(a);b.m[0]=1;b.m[5]=e;b.m[6]=-a;b.m[9]=a;b.m[10]=e;b.m[15]=1;return b};d.rotationY=function(a){var b=new d,
e=Math.cos(a);a=Math.sin(a);b.m[0]=e;b.m[2]=a;b.m[5]=1;b.m[8]=-a;b.m[10]=e;b.m[15]=1;return b};d.rotationZ=function(a){var b=new d,e=Math.cos(a);a=Math.sin(a);b.m[0]=e;b.m[1]=-a;b.m[4]=a;b.m[5]=e;b.m[10]=1;b.m[15]=1;return b};d.rotationAxis=function(a,b){var e=new d,c=a.normalize(),f=Math.sin(b),k=Math.cos(b),g=1-k,h=c.x,l=c.y,c=c.z,m=h*l,n=h*c,s=l*c;e.m[0]=k+h*h*g;e.m[1]=m*g-c*f;e.m[2]=n*g+l*f;e.m[4]=m*g+c*f;e.m[5]=k+l*l*g;e.m[6]=s*g-h*f;e.m[8]=n*g-l*f;e.m[9]=s*g+h*f;e.m[10]=k+c*c*g;e.m[15]=1;return e};
d.rotation=function(a,b,e){return d.rotationX(e).multiply(d.rotationZ(b)).multiply(d.rotationY(a))};d.translation=function(a,b,e){var c=d.identity();c.m[0]=a;c.m[5]=b;c.m[1]=e;return c};d.translation=function(a,b,c){var f=d.identity();f.m[12]=a;f.m[13]=b;f.m[14]=c;return f};d.scale=function(a,b,c){var f=new d;f.m[0]=a;f.m[5]=b;f.m[10]=c;f.m[15]=1;return f};d.identity=function(){var a=new d;a.m[0]=1;a.m[5]=1;a.m[10]=1;a.m[15]=1;return a};d.zero=function(){return new d};d.fromArray=function(a){for(var b=
new d,c=0;16>c;c++)b.m[c]=a[c];return b};c.prototype.add=function(a){return new c(this.x+a.x,this.y+a.y,this.z+a.z)};c.prototype.subtract=function(a){return new c(this.x-a.x,this.y-a.y,this.z-a.z)};c.prototype.equal=function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z};c.prototype.angle=function(a){var b=this.normalize();a=a.normalize();return Math.acos(b.dot(a)/(b.magnitude()*a.magnitude()))};c.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};c.prototype.magnitudeSquared=
function(){return this.x*this.x+this.y*this.y+this.z*this.z};c.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};c.prototype.cross=function(a){return new c(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x)};c.prototype.normalize=function(){var a=this.magnitude();if(0===a)throw"Zero Division Error";return new c(this.x/a,this.y/a,this.z/a)};c.prototype.scale=function(a){return new c(this.x*a,this.y*a,this.z*a)};c.prototype.vectorProjection=function(a){return this.magnitude()*
Math.cos(this.angle(a))};c.prototype.scalarProjection=function(a){return this.dot(a.normalize())*a.normalize};c.prototype.comp=function(a){return this.dot(a)/this.magnitude()};c.prototype.rotate=function(a,b){var e=a.normalize(),d=Math.sin(b),f=Math.cos(b),g=1-f,k=e.x,h=e.y,l=e.z,m=e.x*e.y,n=(f+k*k*g)*this.x+(m*g-l*d)*this.y+(e.x*e.z*g+h*d)*this.z;return new c(n,(m*g+l*d)*this.x+(f+h*h*g)*this.y+(e.y*e.z*g-k*d)*this.z,n)};c.prototype.transform=function(a){var b=this.x*a.m[3]+this.y*a.m[7]+this.z*
a.m[11]+a.m[15];return new c((this.x*a.m[0]+this.y*a.m[4]+this.z*a.m[8]+a.m[12])/b,(this.x*a.m[1]+this.y*a.m[5]+this.z*a.m[9]+a.m[13])/b,(this.x*a.m[2]+this.y*a.m[6]+this.z*a.m[10]+a.m[14])/b)};c.prototype.rotateX=function(a){var b=Math.sin(a);a=Math.cos(a);return new c(this.x,a*this.y-b*this.z,b*this.y+a*this.z)};c.prototype.rotateY=function(a){var b=Math.sin(a);a=Math.cos(a);return new c(a*this.x+b*this.z,this.y,-(b*this.x)+a*this.z)};c.prototype.rotateZ=function(a){var b=Math.sin(a);a=Math.cos(a);
return new c(a*this.x-b*this.y,b*this.x+a*this.y,this.z)};c.prototype.rotatePitchYawRoll=function(a,b,c){return this.rotateX(c).rotateY(a).rotateZ(b)};g.exports={Vector:c,Vertex:function(a,b){this.vector=a;this.color=b},Mesh:function(a,b,d){this.name=a;this.vertices=b;this.faces=d;this.position=new c(0,0,0);this.rotation={yaw:0,pitch:0,roll:0};this.scale={x:1,y:1,z:1}},Matrix:d}},{}]},{},[1])(1)});

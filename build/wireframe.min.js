/*

 Copyright (c) 2014 Eben Packwood. All rights reserved.
 MIT License


 Copyright (c) 2014 Eben Packwood. All rights reserved.
 MIT License

*/
!function(A){if("object"==typeof exports)module.exports=A();else if("function"==typeof define&&define.amd)define(A);else{var g;"undefined"!=typeof window?g=window:"undefined"!=typeof global?g=global:"undefined"!=typeof self&&(g=self);g.wireframe=A()}}(function(){return function g(n,p,e){function s(d,b){if(!p[d]){if(!n[d]){var k="function"==typeof require&&require;if(!b&&k)return k(d,!0);if(l)return l(d,!0);throw Error("Cannot find module '"+d+"'");}k=p[d]={exports:{}};n[d][0].call(k.exports,function(b){var a=
n[d][1][b];return s(a?a:b)},k,k.exports,g,n,p,e)}return p[d].exports}for(var l="function"==typeof require&&require,m=0;m<e.length;m++)s(e[m]);return s}({1:[function(g,n,p){(function(e){!function(g){if("object"==typeof p)n.exports=g();else{var l;"undefined"!=typeof window?l=window:"undefined"!=typeof e?l=e:"undefined"!=typeof self&&(l=self);l.Colour=g()}}(function(){return function l(e,d,b){function k(a,r){if(!d[a]){if(!e[a]){var c="function"==typeof g&&g;if(!r&&c)return c(a,!0);if(f)return f(a,!0);
throw Error("Cannot find module '"+a+"'");}c=d[a]={exports:{}};e[a][0].call(c.exports,function(c){var q=e[a][1][c];return k(q?q:c)},c,c.exports,l,e,d,b)}return d[a].exports}for(var f="function"==typeof g&&g,a=0;a<b.length;a++)k(b[a]);return k}({1:[function(e,g,d){function b(c,t){var q,b,d={};"string"===typeof c?(c=c.toLowerCase(),c in r?d=r[c]:(d=h(c),r[c]=d),b=d,q=a(d.r,d.g,d.b),t=d.a||t||1):"r"in c?(b=c,q=a(c.r,c.g,c.b),t=q.a||t||1):"h"in c&&(q=c,b=f(c.h,c.s,c.l),t=b.a||t||1);this.rgb={r:b.r,g:b.g,
b:b.b};this.hsl={h:q.h,s:q.s,l:q.l};this.alpha=t}function k(c,a,q){c<a?c=a:c>q&&(c=q);return c}var f,a,h,r;b.prototype.lighten=function(c){var a=this.hsl;c=a.l+c;100<c&&(c=100);return new b({h:a.h,s:a.s,l:c},this.alpha)};b.prototype.darken=function(c){var a=this.hsl;c=a.l-c;0>c&&(c=0);return new b({h:a.h,s:a.s,l:c},this.alpha)};b.prototype.toString=function(){var c=this.rgb.r.toString(16),a=this.rgb.g.toString(16),q=this.rgb.b.toString(16);1===c.length&&(c="0"+c);1===a.length&&(a="0"+a);1===q.length&&
(q="0"+q);return"#"+c+a+q};f=function(c,a,q){function b(c,a,t){0>t&&(t+=1);1<t&&(t-=1);return t<1/6?c+(a-c)*t*6:.5>t?a:t<2/3?c+(a-c)*(2/3-t)*6:c}var h=q/100,f=a/100;if(0===a)return c=255*h,{r:c,g:c,b:c};a=50>=q?h*(1+f):h+f-h*f;h=2*h-a;c/=360;return{r:Math.round(255*b(h,a,c+1/3)),g:Math.round(255*b(h,a,c)),b:Math.round(255*b(h,a,c-1/3))}};a=function(c,a,q){c/=255;a/=255;q/=255;var b=Math.max(c,a,q),h=Math.min(c,a,q),f=Math.round((h+b)/2*100);100<f&&(f=100);0>f&&(f=0);var r;if(h===b)return{h:0,s:0,
l:f};r=50>=f?(b-h)/(b+h):(b-h)/(2-b-h);var d=(b-c)/(b-h),e=(b-a)/(b-h);q=(b-q)/(b-h);c=(c===b?q-e:a===b?2+d-q:4+e-d)/6%1;0>c&&(c+=1);c=Math.round(360*c);r=Math.round(100*r);360<c&&(c=360);0>c&&(c=0);100<r&&(r=100);0>r&&(r=0);return{h:c,s:r,l:f}};h=function(c){var a,b,h,r=1,d,e=!1;d=c.substr(0,3);if("hsl"===d)(d=/hsla?\(\s*(-?\d+)\s*,\s*(-?\d+)%\s*,\s*(-?\d+)%\s*(,\s*(-?\d+(\.\d+)?)\s*)?\)/g.exec(c))?(a=parseInt(d[1],10),b=parseInt(d[2],10),h=parseInt(d[3],10),"a"===c[3]&&(r=parseFloat(d[5])),a=Math.abs(a%
360),b=k(b,0,100),h=k(h,0,100),d=f(a,b,h),a=d.r,b=d.g,h=d.b):e=!0;else if("rgb"===d)if(d=/rgba?\((-?\d+%?)\s*,\s*(-?\d+%?)\s*,\s*(-?\d+%?)(,\s*(-?\d+(\.\d+)?)\s*)?\)/g.exec(c)){var g=d[1],l=d[2],m=d[3];a=parseInt(d[1],10);b=parseInt(d[2],10);h=parseInt(d[3],10);if("%"===g[g.length-1]||"%"===l[l.length-1]||"%"===m[m.length-1])"%"===g[g.length-1]&&"%"===l[l.length-1]&&"%"===m[m.length-1]?(a=Math.floor(a/100*255),b=Math.floor(b/100*255),h=Math.floor(h/100*255)):e=!0;a=k(a,0,255);b=k(b,0,255);h=k(h,0,
255);"a"===c[3]&&(r=parseFloat(d[5]))}else e=!0;else"#"===c[0]?(d=c.substr(1),3===d.length?(a=parseInt(d[0]+d[0],16),b=parseInt(d[1]+d[1],16),h=parseInt(d[2]+d[2],16)):6===d.length?(a=parseInt(d[0]+d[1],16),b=parseInt(d[2]+d[3],16),h=parseInt(d[4]+d[5],16)):e=!0):e=!0;r=k(r,0,1);if(e)throw"ColourError: Something went wrong. Perhaps "+c+" is not a legal CSS color value";return{r:a,g:b,b:h,a:r}};r={black:{r:0,g:0,b:0,h:0,s:0,l:0},silver:{r:192,g:192,b:192,h:0,s:0,l:75},gray:{r:128,g:128,b:128,h:0,s:0,
l:50},white:{r:255,g:255,b:255,h:0,s:0,l:100},maroon:{r:128,g:0,b:0,h:0,s:100,l:25},red:{r:255,g:0,b:0,h:0,s:100,l:50},purple:{r:128,g:0,b:128,h:300,s:100,l:25},fuchsia:{r:255,g:0,b:255,h:300,s:100,l:50},green:{r:0,g:128,b:0,h:120,s:100,l:25},lime:{r:0,g:255,b:0,h:120,s:100,l:50},olive:{r:128,g:128,b:0,h:60,s:100,l:25},yellow:{r:255,g:255,b:0,h:60,s:100,l:50},navy:{r:0,g:0,b:128,h:240,s:100,l:25},blue:{r:0,g:0,b:255,h:240,s:100,l:50},teal:{r:0,g:128,b:128,h:180,s:100,l:25},aqua:{r:0,g:255,b:255,h:180,
s:100,l:50},orange:{r:255,g:165,b:0,h:39,s:100,l:50},aliceblue:{r:240,g:248,b:255,h:208,s:100,l:97},antiquewhite:{r:250,g:235,b:215,h:34,s:78,l:91},aquamarine:{r:127,g:255,b:212,h:160,s:100,l:75},azure:{r:240,g:255,b:255,h:180,s:100,l:97},beige:{r:245,g:245,b:220,h:60,s:56,l:91},bisque:{r:255,g:228,b:196,h:33,s:100,l:88},blanchedalmond:{r:255,g:235,b:205,h:36,s:100,l:90},blueviolet:{r:138,g:43,b:226,h:271,s:76,l:53},brown:{r:165,g:42,b:42,h:0,s:59,l:41},burlywood:{r:222,g:184,b:135,h:34,s:57,l:70},
cadetblue:{r:95,g:158,b:160,h:182,s:25,l:50},chartreuse:{r:127,g:255,b:0,h:90,s:100,l:50},chocolate:{r:210,g:105,b:30,h:25,s:75,l:47},coral:{r:255,g:127,b:80,h:16,s:100,l:66},cornflowerblue:{r:100,g:149,b:237,h:219,s:79,l:66},cornsilk:{r:255,g:248,b:220,h:48,s:100,l:93},cyan:{r:0,g:255,b:255,h:180,s:100,l:97},crimson:{r:220,g:20,b:60,h:348,s:83,l:47},darkblue:{r:0,g:0,b:139,h:240,s:100,l:27},darkcyan:{r:0,g:139,b:139,h:180,s:100,l:27},darkgoldenrod:{r:184,g:134,b:11,h:43,s:89,l:38},darkgray:{r:169,
g:169,b:169,h:0,s:0,l:66},darkgreen:{r:0,g:100,b:0,h:120,s:100,l:20},darkgrey:{r:169,g:169,b:169,h:0,s:0,l:66},darkkhaki:{r:189,g:183,b:107,h:56,s:38,l:58},darkmagenta:{r:139,g:0,b:139,h:300,s:100,l:27},darkolivegreen:{r:85,g:107,b:47,h:82,s:39,l:30},darkorange:{r:255,g:140,b:0,h:33,s:100,l:50},darkorchid:{r:153,g:50,b:204,h:280,s:61,l:50},darkred:{r:139,g:0,b:0,h:0,s:100,l:27},darksalmon:{r:233,g:150,b:122,h:15,s:72,l:70},darkseagreen:{r:143,g:188,b:143,h:120,s:25,l:65},darkslateblue:{r:72,g:61,
b:139,h:248,s:39,l:39},darkslategray:{r:47,g:79,b:79,h:180,s:25,l:25},darkslategrey:{r:47,g:79,b:79,h:180,s:25,l:25},darkturquoise:{r:0,g:206,b:209,h:181,s:100,l:41},darkviolet:{r:148,g:0,b:211,h:282,s:100,l:41},deeppink:{r:255,g:20,b:147,h:328,s:100,l:54},deepskyblue:{r:0,g:191,b:255,h:195,s:100,l:50},dimgray:{r:105,g:105,b:105,h:0,s:0,l:41},dimgrey:{r:105,g:105,b:105,h:0,s:0,l:41},dodgerblue:{r:30,g:144,b:255,h:210,s:100,l:56},firebrick:{r:178,g:34,b:34,h:0,s:68,l:42},floralwhite:{r:255,g:250,b:240,
h:40,s:100,l:97},forestgreen:{r:34,g:139,b:34,h:120,s:61,l:34},gainsboro:{r:220,g:220,b:220,h:0,s:0,l:86},ghostwhite:{r:248,g:248,b:255,h:240,s:100,l:99},gold:{r:255,g:215,b:0,h:51,s:100,l:50},goldenrod:{r:218,g:165,b:32,h:43,s:74,l:49},greenyellow:{r:173,g:255,b:47,h:84,s:100,l:59},grey:{r:128,g:128,b:128,h:0,s:0,l:50},honeydew:{r:240,g:255,b:240,h:120,s:100,l:97},hotpink:{r:255,g:105,b:180,h:330,s:100,l:71},indianred:{r:205,g:92,b:92,h:0,s:53,l:58},indigo:{r:75,g:0,b:130,h:275,s:100,l:25},ivory:{r:255,
g:255,b:240,h:60,s:100,l:97},khaki:{r:240,g:230,b:140,h:54,s:77,l:75},lavender:{r:230,g:230,b:250,h:240,s:67,l:94},lavenderblush:{r:255,g:240,b:245,h:340,s:100,l:97},lawngreen:{r:124,g:252,b:0,h:90,s:100,l:49},lemonchiffon:{r:255,g:250,b:205,h:54,s:100,l:90},lightblue:{r:173,g:216,b:230,h:195,s:53,l:79},lightcoral:{r:240,g:128,b:128,h:0,s:79,l:72},lightcyan:{r:224,g:255,b:255,h:180,s:100,l:94},lightgoldenrodyellow:{r:250,g:250,b:210,h:60,s:80,l:90},lightgray:{r:211,g:211,b:211,h:0,s:0,l:83},lightgreen:{r:144,
g:238,b:144,h:120,s:73,l:75},lightgrey:{r:211,g:211,b:211,h:0,s:0,l:83},lightpink:{r:255,g:182,b:193,h:351,s:100,l:86},lightsalmon:{r:255,g:160,b:122,h:17,s:100,l:74},lightseagreen:{r:32,g:178,b:170,h:177,s:70,l:41},lightskyblue:{r:135,g:206,b:250,h:203,s:92,l:75},lightslategray:{r:119,g:136,b:153,h:210,s:14,l:53},lightslategrey:{r:119,g:136,b:153,h:210,s:14,l:53},lightsteelblue:{r:176,g:196,b:222,h:214,s:41,l:78},lightyellow:{r:255,g:255,b:224,h:60,s:100,l:94},limegreen:{r:50,g:205,b:50,h:120,s:61,
l:50},linen:{r:250,g:240,b:230,h:30,s:67,l:94},magenta:{r:255,g:0,b:255,h:17,s:100,l:74},mediumaquamarine:{r:102,g:205,b:170,h:160,s:51,l:60},mediumblue:{r:0,g:0,b:205,h:240,s:100,l:40},mediumorchid:{r:186,g:85,b:211,h:288,s:59,l:58},mediumpurple:{r:147,g:112,b:219,h:260,s:60,l:65},mediumseagreen:{r:60,g:179,b:113,h:147,s:50,l:47},mediumslateblue:{r:123,g:104,b:238,h:249,s:80,l:67},mediumspringgreen:{r:0,g:250,b:154,h:157,s:100,l:49},mediumturquoise:{r:72,g:209,b:204,h:178,s:60,l:55},mediumvioletred:{r:199,
g:21,b:133,h:322,s:81,l:43},midnightblue:{r:25,g:25,b:112,h:240,s:64,l:27},mintcream:{r:245,g:255,b:250,h:150,s:100,l:98},mistyrose:{r:255,g:228,b:225,h:6,s:100,l:94},moccasin:{r:255,g:228,b:181,h:38,s:100,l:85},navajowhite:{r:255,g:222,b:173,h:36,s:100,l:84},oldlace:{r:253,g:245,b:230,h:39,s:85,l:95},olivedrab:{r:107,g:142,b:35,h:80,s:60,l:35},orangered:{r:255,g:69,b:0,h:16,s:100,l:50},orchid:{r:218,g:112,b:214,h:302,s:59,l:65},palegoldenrod:{r:238,g:232,b:170,h:55,s:67,l:80},palegreen:{r:152,g:251,
b:152,h:120,s:93,l:79},paleturquoise:{r:175,g:238,b:238,h:180,s:65,l:81},palevioletred:{r:219,g:112,b:147,h:340,s:60,l:65},papayawhip:{r:255,g:239,b:213,h:37,s:100,l:92},peachpuff:{r:255,g:218,b:185,h:28,s:100,l:86},peru:{r:205,g:133,b:63,h:30,s:59,l:53},pink:{r:255,g:192,b:203,h:350,s:100,l:88},plum:{r:221,g:160,b:221,h:300,s:47,l:75},powderblue:{r:176,g:224,b:230,h:187,s:52,l:80},rosybrown:{r:188,g:143,b:143,h:0,s:25,l:65},royalblue:{r:65,g:105,b:225,h:225,s:73,l:57},saddlebrown:{r:139,g:69,b:19,
h:25,s:76,l:31},salmon:{r:250,g:128,b:114,h:6,s:93,l:71},sandybrown:{r:244,g:164,b:96,h:28,s:87,l:67},seagreen:{r:46,g:139,b:87,h:146,s:50,l:36},seashell:{r:255,g:245,b:238,h:25,s:100,l:97},sienna:{r:160,g:82,b:45,h:19,s:56,l:40},skyblue:{r:135,g:206,b:235,h:197,s:71,l:73},slateblue:{r:106,g:90,b:205,h:248,s:53,l:58},slategray:{r:112,g:128,b:144,h:210,s:13,l:50},slategrey:{r:112,g:128,b:144,h:210,s:13,l:50},snow:{r:255,g:250,b:250,h:0,s:100,l:99},springgreen:{r:0,g:255,b:127,h:150,s:100,l:50},steelblue:{r:70,
g:130,b:180,h:207,s:44,l:49},tan:{r:210,g:180,b:140,h:34,s:44,l:69},thistle:{r:216,g:191,b:216,h:300,s:24,l:80},tomato:{r:255,g:99,b:71,h:9,s:100,l:64},turquoise:{r:64,g:224,b:208,h:174,s:72,l:56},violet:{r:238,g:130,b:238,h:300,s:76,l:72},wheat:{r:245,g:222,b:179,h:39,s:77,l:83},whitesmoke:{r:245,g:245,b:245,h:0,s:0,l:96},yellowgreen:{r:154,g:205,b:50,h:80,s:61,l:50}};g.exports=b},{}]},{},[1])(1)})}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(g,
n,p){(function(e){!function(g){if("object"==typeof p)n.exports=g();else{var l;"undefined"!=typeof window?l=window:"undefined"!=typeof e?l=e:"undefined"!=typeof self&&(l=self);l.linearalgea=g()}}(function(){return function l(e,d,b){function k(a,r){if(!d[a]){if(!e[a]){var c="function"==typeof g&&g;if(!r&&c)return c(a,!0);if(f)return f(a,!0);throw Error("Cannot find module '"+a+"'");}c=d[a]={exports:{}};e[a][0].call(c.exports,function(c){var b=e[a][1][c];return k(b?b:c)},c,c.exports,l,e,d,b)}return d[a].exports}
for(var f="function"==typeof g&&g,a=0;a<b.length;a++)k(b[a]);return k}({1:[function(e,g,d){d=e("./vector.js");e=e("./matrix.js");var b=Object.create(null);b.Vector=d;b.Matrix=e;g.exports=b},{"./matrix.js":2,"./vector.js":3}],2:[function(e,g,d){function b(){for(var c=0;16>c;c++)this[c]=0;this.length=16}e=e("./vector.js");b.prototype.equal=function(c){for(var a=0,b=this.length;a<b;a++)if(this[a]!==c[a])return!1;return!0};b.prototype.add=function(c){for(var a=new b,q=0,h=this.length;q<h;q++)a[q]=this[q]+
c[q];return a};b.prototype.addLG=function(c,a){for(var b=0,h=this.length;b<h;b++)a[b]=this[b]+c[b]};b.prototype.subtract=function(c){for(var a=new b,q=0,h=this.length;q<h;q++)a[q]=this[q]-c[q];return a};b.prototype.subtractLG=function(c,a){for(var b=0,h=this.length;b<h;b++)a[b]=this[b]-c[b]};b.prototype.multiplyScalar=function(c){for(var a=new b,h=0,f=this.length;h<f;h++)a[h]=this[h]*c;return a};b.prototype.multiplyScalarLG=function(c,a){for(var b=0,h=this.length;b<h;b++)a[b]=this[b]*c};b.prototype.multiply=
function(c){var a=new b;a[0]=this[0]*c[0]+this[1]*c[4]+this[2]*c[8]+this[3]*c[12];a[1]=this[0]*c[1]+this[1]*c[5]+this[2]*c[9]+this[3]*c[13];a[2]=this[0]*c[2]+this[1]*c[6]+this[2]*c[10]+this[3]*c[14];a[3]=this[0]*c[3]+this[1]*c[7]+this[2]*c[11]+this[3]*c[15];a[4]=this[4]*c[0]+this[5]*c[4]+this[6]*c[8]+this[7]*c[12];a[5]=this[4]*c[1]+this[5]*c[5]+this[6]*c[9]+this[7]*c[13];a[6]=this[4]*c[2]+this[5]*c[6]+this[6]*c[10]+this[7]*c[14];a[7]=this[4]*c[3]+this[5]*c[7]+this[6]*c[11]+this[7]*c[15];a[8]=this[8]*
c[0]+this[9]*c[4]+this[10]*c[8]+this[11]*c[12];a[9]=this[8]*c[1]+this[9]*c[5]+this[10]*c[9]+this[11]*c[13];a[10]=this[8]*c[2]+this[9]*c[6]+this[10]*c[10]+this[11]*c[14];a[11]=this[8]*c[3]+this[9]*c[7]+this[10]*c[11]+this[11]*c[15];a[12]=this[12]*c[0]+this[13]*c[4]+this[14]*c[8]+this[15]*c[12];a[13]=this[12]*c[1]+this[13]*c[5]+this[14]*c[9]+this[15]*c[13];a[14]=this[12]*c[2]+this[13]*c[6]+this[14]*c[10]+this[15]*c[14];a[15]=this[12]*c[3]+this[13]*c[7]+this[14]*c[11]+this[15]*c[15];return a};b.prototype.multiplyLG=
function(c,a){a[0]=this[0]*c[0]+this[1]*c[4]+this[2]*c[8]+this[3]*c[12];a[1]=this[0]*c[1]+this[1]*c[5]+this[2]*c[9]+this[3]*c[13];a[2]=this[0]*c[2]+this[1]*c[6]+this[2]*c[10]+this[3]*c[14];a[3]=this[0]*c[3]+this[1]*c[7]+this[2]*c[11]+this[3]*c[15];a[4]=this[4]*c[0]+this[5]*c[4]+this[6]*c[8]+this[7]*c[12];a[5]=this[4]*c[1]+this[5]*c[5]+this[6]*c[9]+this[7]*c[13];a[6]=this[4]*c[2]+this[5]*c[6]+this[6]*c[10]+this[7]*c[14];a[7]=this[4]*c[3]+this[5]*c[7]+this[6]*c[11]+this[7]*c[15];a[8]=this[8]*c[0]+this[9]*
c[4]+this[10]*c[8]+this[11]*c[12];a[9]=this[8]*c[1]+this[9]*c[5]+this[10]*c[9]+this[11]*c[13];a[10]=this[8]*c[2]+this[9]*c[6]+this[10]*c[10]+this[11]*c[14];a[11]=this[8]*c[3]+this[9]*c[7]+this[10]*c[11]+this[11]*c[15];a[12]=this[12]*c[0]+this[13]*c[4]+this[14]*c[8]+this[15]*c[12];a[13]=this[12]*c[1]+this[13]*c[5]+this[14]*c[9]+this[15]*c[13];a[14]=this[12]*c[2]+this[13]*c[6]+this[14]*c[10]+this[15]*c[14];a[15]=this[12]*c[3]+this[13]*c[7]+this[14]*c[11]+this[15]*c[15]};b.prototype.negate=function(){for(var c=
new b,a=0,h=this.length;a<h;a++)c[a]=-this[a];return c};b.prototype.negateLG=function(c){for(var a=0,b=this.length;a<b;a++)c[a]=-this[a]};b.prototype.transpose=function(){var c=new b;c[0]=this[0];c[1]=this[4];c[2]=this[8];c[3]=this[12];c[4]=this[1];c[5]=this[5];c[6]=this[9];c[7]=this[13];c[8]=this[2];c[9]=this[6];c[10]=this[10];c[11]=this[14];c[12]=this[3];c[13]=this[7];c[14]=this[11];c[15]=this[15];return c};b.prototype.transposeLG=function(c){c[0]=this[0];c[1]=this[4];c[2]=this[8];c[3]=this[12];
c[4]=this[1];c[5]=this[5];c[6]=this[9];c[7]=this[13];c[8]=this[2];c[9]=this[6];c[10]=this[10];c[11]=this[14];c[12]=this[3];c[13]=this[7];c[14]=this[11];c[15]=this[15]};b.prototype.empty=function(){for(var c=0,a=this.length;c<a;c++)this[c]=0};b.prototype.copy=function(c){for(var a=0;16>a;a++)c[a]=this[a]};b.rotationX=function(c){var a=new b,h=Math.cos(c);c=Math.sin(c);a[0]=1;a[5]=h;a[6]=-c;a[9]=c;a[10]=h;a[15]=1;return a};b.rotationXLG=function(c,a){var b=Math.cos(c),h=Math.sin(c);a.empty();a[0]=1;
a[5]=b;a[6]=-h;a[9]=h;a[10]=b;a[15]=1};b.rotationY=function(c){var a=new b,h=Math.cos(c);c=Math.sin(c);a[0]=h;a[2]=c;a[5]=1;a[8]=-c;a[10]=h;a[15]=1;return a};b.rotationYLG=function(c,a){var b=Math.cos(c),h=Math.sin(c);a.empty();a[0]=b;a[2]=h;a[5]=1;a[8]=-h;a[10]=b;a[15]=1};b.rotationZ=function(c){var a=new b,h=Math.cos(c);c=Math.sin(c);a[0]=h;a[1]=-c;a[4]=c;a[5]=h;a[10]=1;a[15]=1;return a};b.rotationZLG=function(a,b){var h=Math.cos(a),f=Math.sin(a);b.empty();b[0]=h;b[1]=-f;b[4]=f;b[5]=h;b[10]=1;b[15]=
1};b.rotationAxis=function(a,h){var f=new b,d=a.normalize(),r=Math.sin(h),e=Math.cos(h),k=1-e,g=d.x,l=d.y,d=d.z,m=g*l,n=g*d,p=l*d;f[0]=e+g*g*k;f[1]=m*k-d*r;f[2]=n*k+l*r;f[4]=m*k+d*r;f[5]=e+l*l*k;f[6]=p*k-g*r;f[8]=n*k-l*r;f[9]=p*k+g*r;f[10]=e+d*d*k;f[15]=1;return f};b.rotationAxisLG=function(a,b,h){a.normalizeLG(r);a=Math.sin(b);b=Math.cos(b);var f=1-b,d=r.x,e=r.y,k=r.z,g=d*e,l=d*k,m=e*k;h.empty();h[0]=b+d*d*f;h[1]=g*f-k*a;h[2]=l*f+e*a;h[4]=g*f+k*a;h[5]=b+e*e*f;h[6]=m*f-d*a;h[8]=l*f-e*a;h[9]=m*f+d*
a;h[10]=b+k*k*f;h[15]=1};b.rotation=function(a,h,f){return b.rotationX(f).multiply(b.rotationZ(h)).multiply(b.rotationY(a))};b.rotationLG=function(c,d,r,e){k.empty();f.empty();a.empty();h.empty();e.empty();b.rotationXLG(r,k);b.rotationZLG(d,f);b.rotationYLG(c,a);k.multiplyLG(f,h);h.multiplyLG(a,e)};b.translation=function(a,h,f){var d=b.identity();d[12]=a;d[13]=h;d[14]=f;return d};b.translationLG=function(a,h,f,d){b.identityLG(d);d[12]=a;d[13]=h;d[14]=f};b.scale=function(a,h,f){var d=new b;d[0]=a;
d[5]=h;d[10]=f;d[15]=1;return d};b.scaleLG=function(a,h,f,d){b.zeroLG(d);d[0]=a;d[5]=h;d[10]=f;d[15]=1};b.identity=function(){var a=new b;a[0]=1;a[5]=1;a[10]=1;a[15]=1;return a};b.identityLG=function(a){for(var b=0;16>b;b++)a[b]=0;a[0]=1;a[5]=1;a[10]=1;a[15]=1};b.zero=function(){return new b};b.zeroLG=function(a){for(var b=0;16>b;b++)a[b]=0};b.fromArray=function(a){for(var h=new b,f=0;16>f;f++)h[f]=a[f];return h};b.fromArrayLG=function(a,b){for(var h=0;16>h;h++)b[h]=a[h]};b.copy=function(a,b){for(var h=
0;16>h;h++)b[h]=a[h]};var k=new b,f=new b,a=new b,h=new b,r=new e(0,0,0);g.exports=b},{"./vector.js":3}],3:[function(e,g,d){function b(a,b,f){if("undefined"===typeof a||"undefined"===typeof b||"undefined"===typeof f)throw Error("Insufficient arguments.");this.x=a;this.y=b;this.z=f}b.prototype.add=function(a){return new b(this.x+a.x,this.y+a.y,this.z+a.z)};b.prototype.addLG=function(a,b){b.x=this.x+a.x;b.y=this.y+a.y;b.z=this.z+a.z};b.prototype.subtract=function(a){return new b(this.x-a.x,this.y-a.y,
this.z-a.z)};b.prototype.subtractLG=function(a,b){b.x=this.x-a.x;b.y=this.y-a.y;b.z=this.z-a.z};b.prototype.equal=function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z};b.prototype.angle=function(a){var b=this.normalize();a=a.normalize();var f=b.magnitude(),c=a.magnitude();if(0===f||0===c)return 0;b=b.dot(a)/(f*c);-1>b&&(b=-1);1<b&&(b=1);return Math.acos(b)};b.prototype.angleLG=function(a){this.normalizeLG(k);a.normalizeLG(f);a=k.magnitude();var b=f.magnitude();if(0===a||0===b)return 0;a=k.dot(f)/
(a*b);-1>a&&(a=-1);1<a&&(a=1);return Math.acos(a)};b.prototype.cosAngle=function(a){var b=this.normalize();a=a.normalize();var f=b.magnitude(),c=a.magnitude();if(0===f||0===c)return 0;b=b.dot(a)/(f*c);-1>b&&(b=-1);1<b&&(b=1);return b};b.prototype.cosAngleLG=function(a){this.normalizeLG(k);a.normalizeLG(f);a=k.magnitude();var b=f.magnitude();if(0===a||0===b)return 0;a=k.dot(f)/(a*b);-1>a&&(a=-1);1<a&&(a=1);return a};b.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*
this.z)};b.prototype.magnitudeSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z};b.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};b.prototype.cross=function(a){return new b(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x)};b.prototype.crossLG=function(a,b){b.x=this.y*a.z-this.z*a.y;b.y=this.z*a.x-this.x*a.z;b.z=this.x*a.y-this.y*a.x};b.prototype.normalize=function(){var a=this.magnitude();return 0===a?new b(this.x,this.y,this.z):new b(this.x/
a,this.y/a,this.z/a)};b.prototype.normalizeLG=function(a){var b=this.magnitude();0===b&&(a.x=this.x,a.y=this.y,a.z=this.z);a.x=this.x/b;a.y=this.y/b;a.z=this.z/b};b.prototype.scale=function(a){return new b(this.x*a,this.y*a,this.z*a)};b.prototype.scaleLG=function(a,b){b.x=this.x*a;b.y=this.y*a;b.z=this.z*a};b.prototype.negate=function(){return new b(-this.x,-this.y,-this.z)};b.prototype.negateLG=function(a){a.x=-this.x;a.y=-this.y;a.z=-this.z};b.prototype.vectorProjection=function(a){var b=a.magnitude();
return a.scale(this.dot(a)/(b*b))};b.prototype.vectorProjectionLG=function(a,b){var f=a.magnitude();a.scaleLG(this.dot(a)/(f*f),b)};b.prototype.scalarProjection=function(a){return this.dot(a)/a.magnitude()};b.prototype.transform=function(a){var f=this.x*a[3]+this.y*a[7]+this.z*a[11]+a[15];return new b((this.x*a[0]+this.y*a[4]+this.z*a[8]+a[12])/f,(this.x*a[1]+this.y*a[5]+this.z*a[9]+a[13])/f,(this.x*a[2]+this.y*a[6]+this.z*a[10]+a[14])/f)};b.prototype.transformLG=function(a,b){var f=this.x*a[1]+this.y*
a[5]+this.z*a[9]+a[13],c=this.x*a[2]+this.y*a[6]+this.z*a[10]+a[14],d=this.x*a[3]+this.y*a[7]+this.z*a[11]+a[15];b.x=(this.x*a[0]+this.y*a[4]+this.z*a[8]+a[12])/d;b.y=f/d;b.z=c/d};b.prototype.rotate=function(a,f){var d=a.normalize(),c=Math.sin(f),e=Math.cos(f),k=1-e,g=d.x,l=d.y,m=d.z,n=d.x*d.y,p=d.x*d.z,d=d.y*d.z;return new b((e+g*g*k)*this.x+(n*k-m*c)*this.y+(p*k+l*c)*this.z,(n*k+m*c)*this.x+(e+l*l*k)*this.y+(d*k-g*c)*this.z,(p*k-l*c)*this.x+(d*k+g*c)*this.y+(e+g*g*k)*this.z)};b.prototype.rotateLG=
function(a,b,f){a.normalizeLG(f);a=Math.sin(b);b=Math.cos(b);var c=1-b,d=f.x,e=f.y,k=f.z,g=f.x*f.y,l=f.x*f.z,m=f.y*f.z,n=(g*c+k*a)*this.x+(b+e*e*c)*this.y+(m*c-d*a)*this.z,m=(l*c-e*a)*this.x+(m*c+d*a)*this.y+(b+d*d*c)*this.z;f.x=(b+d*d*c)*this.x+(g*c-k*a)*this.y+(l*c+e*a)*this.z;f.y=n;f.z=m};b.prototype.rotateX=function(a){var f=Math.sin(a);a=Math.cos(a);return new b(this.x,a*this.y-f*this.z,f*this.y+a*this.z)};b.prototype.rotateXLG=function(a,b){var f=Math.sin(a),c=Math.cos(a),d=c*this.y-f*this.z,
f=f*this.y+c*this.z;b.x=this.x;b.y=d;b.z=f};b.prototype.rotateY=function(a){var f=Math.sin(a);a=Math.cos(a);return new b(a*this.x+f*this.z,this.y,-(f*this.x)+a*this.z)};b.prototype.rotateYLG=function(a,b){var f=Math.sin(a),c=Math.cos(a),d=this.y,e=-(f*this.x)+c*this.z;b.x=c*this.x+f*this.z;b.y=d;b.z=e};b.prototype.rotateZ=function(a){var f=Math.sin(a);a=Math.cos(a);return new b(a*this.x-f*this.y,f*this.x+a*this.y,this.z)};b.prototype.rotateZLG=function(a,b){var f=Math.sin(a),c=Math.cos(a),d=f*this.x+
c*this.y,e=this.z;b.x=c*this.x-f*this.y;b.y=d;b.z=e};b.prototype.rotatePitchYawRoll=function(a,b,f){return this.rotateX(f).rotateY(a).rotateZ(b)};b.prototype.rotatePitchYawRollLG=function(a,b,f,c){this.rotateXLG(f,c);c.rotateYLG(a,c);c.rotateZLG(b,c)};var k=new b(0,0,0),f=new b(0,0,0);g.exports=b},{}]},{},[1])(1)})}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],3:[function(g,n,p){function e(d,b,e){this.position=e||new s(1,1,20);this.up=new s(0,1,0);this.rotation=
{yaw:0,pitch:0,roll:0};this.view_matrix=new l;this.width=d;this.height=b;this.near=.1;this.far=1E3;this.fov=90;this.perspectiveFov=new l;this._xaxis=new s(0,0,0);this._yaxis=new s(0,0,0);this._zaxis=new s(0,0,0);this._direction=new s(0,0,0);this._temp_vector1=new s(0,0,0);this._temp_vector2=new s(0,0,0);this._temp_matrix=new l;this.calculatePerspectiveFov();this.createViewMatrix()}g=g("linearalgea");var s=g.Vector,l=g.Matrix,m=2*Math.PI;e.prototype.direction=function(){var d=Math.sin(this.rotation.pitch),
b=Math.cos(this.rotation.pitch),e=Math.sin(this.rotation.yaw),f=Math.cos(this.rotation.yaw);this._direction.x=-b*e;this._direction.y=d;this._direction.z=-b*f};e.prototype.calculatePerspectiveFov=function(){var d=this.width/this.height,b=this.near,e=this.far,f=1/Math.tan(Math.PI/180*this.fov/2)*this.height;this.perspectiveFov[0]=f*d;this.perspectiveFov[5]=f;this.perspectiveFov[10]=e/(b-e);this.perspectiveFov[11]=-1;this.perspectiveFov[14]=b*e/(b-e)};e.prototype.createViewMatrix=function(){var d=this.position,
b=this.rotation.pitch,e=this.rotation.yaw,f=Math.cos(b),b=Math.sin(b),a=Math.cos(e),e=Math.sin(e);this._xaxis.x=a;this._xaxis.y=0;this._xaxis.z=-e;this._yaxis.x=e*b;this._yaxis.y=f;this._yaxis.z=a*b;this._zaxis.x=e*f;this._zaxis.y=-b;this._zaxis.z=f*a;l.fromArrayLG([this._xaxis.x,this._yaxis.x,this._zaxis.x,0,this._xaxis.y,this._yaxis.y,this._zaxis.y,0,this._xaxis.z,this._yaxis.z,this._zaxis.z,0,-this._xaxis.dot(d),-this._yaxis.dot(d),-this._zaxis.dot(d),1],this.view_matrix)};e.prototype.look=function(d,
b){this.rotation.yaw-=d;0>this.rotation.yaw?this.rotation.yaw+=m:this.rotation.yaw>m&&(this.rotation.yaw-=m);this.rotation.pitch-=b;0>this.rotation.pitch?this.rotation.pitch+=m:this.rotation.pitch>m&&(this.rotation.pitch-=m);this.createViewMatrix()};e.prototype.turnRight=function(d){this.rotation.yaw-=d;0>this.rotation.yaw&&(this.rotation.yaw+=m);this.createViewMatrix()};e.prototype.turnLeft=function(d){this.rotation.yaw+=d;this.rotation.yaw>m&&(this.rotation.yaw-=m);this.createViewMatrix()};e.prototype.lookUp=
function(d){this.rotation.pitch-=d;this.rotation.pitch>m&&(this.rotation.pitch-=m);this.createViewMatrix()};e.prototype.lookDown=function(d){this.rotation.pitch+=d;0>this.rotation.pitch&&(this.rotation.pitch+=m);this.createViewMatrix()};e.prototype.moveTo=function(d,b,e){this.position.x=d;this.position.y=b;this.position.z=e;this.createViewMatrix()};e.prototype.move=function(d,b,e){this.position.x+=d;this.position.y+=b;this.position.z+=e;this.createViewMatrix()};e.prototype.moveRight=function(d){this.direction();
this._direction.normalizeLG(this._temp_vector1);this._temp_vector1.scaleLG(d,this._temp_vector2);this.up.crossLG(this._temp_vector2,this._temp_vector1);this.position.subtractLG(this._temp_vector1,this.position);this.createViewMatrix()};e.prototype.moveLeft=function(d){this.direction();this._direction.normalizeLG(this._temp_vector1);this._temp_vector1.scaleLG(d,this._temp_vector2);this.up.crossLG(this._temp_vector2,this._temp_vector1);this.position.addLG(this._temp_vector1,this.position);this.createViewMatrix()};
e.prototype.moveUp=function(d){this.up.normalizeLG(this._temp_vector1);this._temp_vector1.scaleLG(d,this._temp_vector2);this.position.subtractLG(this._temp_vector2,this.position);this.createViewMatrix()};e.prototype.moveDown=function(d){this.up.normalizeLG(this._temp_vector1);this._temp_vector1.scaleLG(d,this._temp_vector2);this.position.addLG(this._temp_vector2,this.position);this.createViewMatrix()};e.prototype.moveForward=function(d){this.direction();this._direction.normalizeLG(this._temp_vector1);
this._temp_vector1.scaleLG(d,this._temp_vector2);this.position.addLG(this._temp_vector2,this.position);this.createViewMatrix()};e.prototype.moveBackward=function(d){this.direction();this._direction.normalizeLG(this._temp_vector1);this._temp_vector1.scaleLG(d,this._temp_vector2);this.position.subtractLG(this._temp_vector2,this.position);this.createViewMatrix()};n.exports=e},{linearalgea:2}],4:[function(g,n,p){p=g("./scene.js");g=g("./camera.js");n.exports.Scene=p;n.exports.Camera=g},{"./camera.js":3,
"./scene.js":6}],5:[function(g,n,p){n.exports={_listeners:{},addListener:function(e,g){e in this._listeners||(this._listeners[e]=[]);this._listeners[e].push(g)},fire:function(e,g){var l={};"undefined"!==typeof g&&(l=g);l.event=e;l.target=this;var m=this._listeners[e];if("undefined"!==typeof m)for(var d=0,b=m.length;d<b;d++)m[d].call(this,l)},removeListener:function(e,g){for(var l=this._listeners[e],m=0,d=l.length;m<d;m++)l[m]===g&&l.splice(m,1)}}},{}],6:[function(g,n,p){function e(f){this.width=f.width;
this.height=f.height;this.canvas=document.getElementById(f.canvas_id);this.ctx=this.canvas.getContext("2d");this.camera=new s(this.width,this.height);this.illumination=new b(90,0,0);this.meshes={};this._x_offset=Math.round(this.width/2);this._y_offset=Math.round(this.height/2);this._back_buffer=document.createElement("canvas");this._back_buffer.width=this.width;this._back_buffer.height=this.height;this._back_buffer_ctx=this._back_buffer.getContext("2d");this._back_buffer_image=null;this._depth_buffer=
[];this._backface_culling=!0;this._keys={};this._key_count=0;this._anim_id=null;this._needs_update=!0;this._draw_mode=0;this.canvas.tabIndex=1;this._back_buffer_image=this._back_buffer_ctx.createImageData(this.width,this.height);this.canvas.addEventListener("keydown",this.onKeyDown.bind(this),!1);this.canvas.addEventListener("keyup",this.onKeyUp.bind(this),!1);this.canvas.addEventListener("blur",this.emptyKeys.bind(this),!1);this.canvas.addEventListener("mousedown",this.onMouseDown.bind(this),!1);
this.canvas.addEventListener("mouseup",this.onMouseUp.bind(this),!1);this.canvas.addEventListener("mousemove",this.onMouseMove.bind(this),!1);this.initializeDepthBuffer();this.update();this._light_direction=new b(0,0,0);this._wv1=new k;this._wv2=new k;this._wv3=new k;this._v1=new b(0,0,0);this._v2=new b(0,0,0);this._v3=new b(0,0,0);this._v1t=new b(0,0,0);this._v2t=new b(0,0,0);this._v3t=new b(0,0,0);this._wvp_matrix=new k;this._world_matrix=new k;this._rotation_matrix=new k;this._translation_matrix=
new k;this._scale_matrix=new k;this._cam_to_vert=new b(0,0,0);this._temp_matrix=new k;this._side1=new b(0,0,0);this._side2=new b(0,0,0);this._norm=new b(0,0,0)}p=g("linearalgea");var s=g("./camera.js"),l=g("./events.js"),m=g("../utilities/mixin.js"),d=g("../utilities/keycodes.js"),b=p.Vector,k=p.Matrix;m(e.prototype,l);e.prototype.emptyKeys=function(){this._key_count=0;this._keys={}};e.prototype.isKeyDown=function(b){b=d[b];return b in this._keys&&this._keys[b]};e.prototype.onKeyDown=function(b){b=
b.keyCode||b.which;this.isKeyDown(b)||(this._key_count+=1,this._keys[b]=!0)};e.prototype.onKeyUp=function(b){b=b.keyCode||b.which;b in this._keys&&(this._key_count-=1,this._keys[b]=!1)};e.prototype._getMousePos=function(b){var a=this.canvas.getBoundingClientRect();return{x:b.clientX-a.left,y:b.clientY-a.top}};e.prototype.onMouseDown=function(b){this._last_mouse_update=this._last_mouse_coords=void 0;b={mouse:this._getMousePos(b)};this.fire("mousedown",b);var a=this.onMouseDrag.bind(this),d=function(){this.removeEventListener("mousemove",
a,!1);this.removeEventListener("mouseup",d,!1);this._last_mouse_update=this._last_mouse_coords=void 0};this.canvas.addEventListener("mousemove",a,!1);this.canvas.addEventListener("mouseup",d,!1);this.canvas.addEventListener("mouseleave",d,!1)};e.prototype.onMouseUp=function(b){b={mouse:this._getMousePos(b)};this.fire("mouseup",b)};e.prototype.onMouseMove=function(b){b={mouse:this._getMousePos(b)};this.fire("mousemove",b)};e.prototype.onMouseDrag=function(b){b=this._getMousePos(b);"undefined"===typeof this._last_mouse_coords&&
(this._last_mouse_coords=b);"undefined"===typeof this._last_mouse_update&&(this._last_mouse_update=new Date);var a=new Date-this._last_mouse_update,d=b.x-this._last_mouse_coords.x,e=b.y-this._last_mouse_coords.y,c=0,g=0;0<a&&(c=d/a,g=e/a);d={mouse:{x:b.x,y:b.y,xvel:c,yvel:g,deltax:d,deltay:e}};this._last_mouse_coords=b;this._last_mouse_update=a;this.fire("mousedrag",d)};e.prototype.initializeDepthBuffer=function(){for(var b=0,a=this.width*this.height;b<a;b++)this._depth_buffer[b]=9999999};e.prototype.offscreen=
function(b){var a=b.x+this._x_offset,d=b.y+this._y_offset;return 1<b.z||0>a||a>this.width||0>d||d>this.height};e.prototype.toggleDrawMode=function(){this._draw_mode=(this._draw_mode+1)%2;this.renderScene()};e.prototype.toggleBackfaceCulling=function(){this._backface_culling=!this._backface_culling;this.renderScene()};e.prototype.drawPixel=function(b,a,d,e){b+=this._x_offset;a+=this._y_offset;if(0<=b&&b<this.width&&0<=a&&a<this.height&&(b+=a*this.width,d<this._depth_buffer[b])){a=this._back_buffer_image.data;
var c=4*b;a[c]=e.r;a[c+1]=e.g;a[c+2]=e.b;a[c+3]=255;this._depth_buffer[b]=d}};e.prototype.drawEdge=function(b,a,d){var e=Math.abs;if(b.x>=a.x){var c=b;b=a;a=c}var c=b.x,g=b.y,k=b.z,e=Math.max(e(a.x-b.x),e(a.y-b.y),e(a.z-b.z)),l=(a.x-b.x)/e,m=(a.y-b.y)/e;b=(a.z-b.z)/e;for(a=0;a<e;a++)this.drawPixel(Math.floor(c),Math.floor(g),k,d),c+=l,g+=m,k+=b};e.prototype.drawTriangle=function(b,a,d,e){this.drawEdge(b,a,e);this.drawEdge(a,d,e);this.drawEdge(d,b,e)};e.prototype.fillTriangle=function(b,a,d,e){var c=
b.x,g=a.x,k=d.x,l=b.y,m=a.y,n=d.y;b=b.z;a=a.z;d=d.z;var p=0-this._x_offset,s=this.width-this._x_offset,y=0-this._y_offset,u=this.height-this._y_offset,v=Math.floor(Math.min(c,g,k));v<p&&(v=p);p=Math.ceil(Math.max(c,g,k));p>s&&(p=s);s=Math.floor(Math.min(l,m,n));s<y&&(s=y);y=Math.ceil(Math.max(l,m,n));y>u&&(y=u);for(var B=n-l,z=c-k,w=l-m,u=g-c,x=k*l-c*n,c=c*m-g*l,g=B*g+z*m+x,l=w*k+u*n+c,k=B/g,n=z/g,g=x/g,m=w/l,u=u/l,c=c/l;v<=p;v++)for(l=s;l<=y;l++)w=k*v+n*l+g,0<=w&&1>=w&&(x=m*v+u*l+c,0<=x&&1>=x&&(z=
1-w-x,0<=z&&1>=z&&this.drawPixel(v,l,z*b+w*a+x*d,e)))};e.prototype.renderScene=function(){this._back_buffer_image=this._back_buffer_ctx.createImageData(this.width,this.height);this.initializeDepthBuffer();var b=this.camera.view_matrix,a=this.camera.perspectiveFov,d=this.illumination,e;for(e in this.meshes)if(this.meshes.hasOwnProperty(e)){var c=this.meshes[e],g=c.scale,l=c.rotation,m=c.position;k.scaleLG(g.x,g.y,g.z,this._scale_matrix);k.rotationLG(l.pitch,l.yaw,l.roll,this._rotation_matrix);k.translationLG(m.x,
m.y,m.z,this._translation_matrix);this._scale_matrix.multiplyLG(this._rotation_matrix,this._world_matrix);this._world_matrix.multiplyLG(this._translation_matrix,this._world_matrix);for(g=0;g<c.faces.length;g++){var n=c.faces[g].face,l=c.faces[g].color,m=c.vertices[n[0]],p=c.vertices[n[1]],n=c.vertices[n[2]];m.transformLG(this._world_matrix,this._v1t);p.transformLG(this._world_matrix,this._v2t);n.transformLG(this._world_matrix,this._v3t);this.camera.position.subtractLG(this._v1t,this._cam_to_vert);
this._v2t.subtractLG(this._v1t,this._side1);this._v3t.subtractLG(this._v1t,this._side2);this._side1.crossLG(this._side2,this._norm);1E-8<=this._norm.magnitude()&&this._norm.normalizeLG(this._norm);if(!this._backface_culling||0<=this._cam_to_vert.dot(this._norm))this._world_matrix.multiplyLG(b,this._temp_matrix),this._temp_matrix.multiplyLG(a,this._wvp_matrix),m.transformLG(this._wvp_matrix,this._wv1),p.transformLG(this._wvp_matrix,this._wv2),n.transformLG(this._wvp_matrix,this._wv3),m=!0,this.offscreen(this._wv1)&&
this.offscreen(this._wv2)&&this.offscreen(this._wv3)&&(m=!1),m&&(0===this._draw_mode?this.drawTriangle(this._wv1,this._wv2,this._wv3,l.rgb):1===this._draw_mode&&(d.subtractLG(this._v1t,this._light_direction),this._light_direction.normalizeLG(this._light_direction),m=this._norm.dot(this._light_direction),l=l.lighten(15*m),this.fillTriangle(this._wv1,this._wv2,this._wv3,l.rgb)))}}this._back_buffer_ctx.putImageData(this._back_buffer_image,0,0);this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);
this.ctx.drawImage(this._back_buffer,0,0,this.canvas.width,this.canvas.height)};e.prototype.addMesh=function(b){this.meshes[b.name]=b};e.prototype.removeMesh=function(b){delete this.meshes[b.name]};e.prototype.update=function(){0<this._key_count&&this.fire("keydown");this._needs_update&&(this.renderScene(),this._needs_update=!1);this._anim_id=window.requestAnimationFrame(this.update.bind(this))};n.exports=e},{"../utilities/keycodes.js":11,"../utilities/mixin.js":12,"./camera.js":3,"./events.js":5,
linearalgea:2}],7:[function(g,n,p){p=g("./geometry/geometry.js");g=g("./engine/engine.js");n.exports.geometry=p;n.exports.engine=g},{"./engine/engine.js":4,"./geometry/geometry.js":9}],8:[function(g,n,p){var e=g("colour");n.exports=function(g,l,m,d){this.face=[g,l,m];this.color=new e(d)}},{colour:1}],9:[function(g,n,p){p=g("./mesh.js");g=g("./face.js");n.exports.Mesh=p;n.exports.Face=g},{"./face.js":8,"./mesh.js":10}],10:[function(g,n,p){function e(e,d,b){this.name=e;this.vertices=d;this.faces=b;
this.position=new s(0,0,0);this.rotation={yaw:0,pitch:0,roll:0};this.scale={x:1,y:1,z:1}}var s=g("linearalgea").Vector,l=g("./face.js");e.fromJSON=function(g){for(var d=[],b=[],k=0,f=g.vertices.length;k<f;k++){var a=g.vertices[k];d.push(new s(a[0],a[1],a[2]))}k=0;for(f=g.faces.length;k<f;k++)a=g.faces[k],b.push(new l(a.face[0],a.face[1],a.face[2],a.color));return new e(g.name,d,b)};n.exports=e},{"./face.js":8,linearalgea:2}],11:[function(g,n,p){n.exports={space:32,backspace:8,tab:9,enter:13,shift:16,
ctrl:17,alt:18,pause_break:19,caps_lock:20,escape:27,page_up:33,"page down":34,end:35,home:36,left_arrow:37,up_arrow:38,right_arrow:39,down_arrow:40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"left_window key":91,"right_window key":92,select_key:93,"numpad 0":96,"numpad 1":97,"numpad 2":98,"numpad 3":99,"numpad 4":100,"numpad 5":101,"numpad 6":102,
"numpad 7":103,"numpad 8":104,"numpad 9":105,multiply:106,add:107,subtract:109,"decimal point":110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,num_lock:144,scroll_lock:145,semi_colon:186,equal_sign:187,comma:188,dash:189,period:190,forward_slash:191,grave_accent:192,open_bracket:219,backslash:220,closebracket:221,single_quote:222}},{}],12:[function(g,n,p){n.exports=function(e,g){for(var l in g)g.hasOwnProperty(l)&&(e[l]=g[l]);return e}},{}]},{},
[7])(7)});

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>wireframe</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <div class="main" style="position:relative; width: 600px; margin: 80px auto 0 auto;">
            <canvas id="audiocanvas" style="background-color:black; position:relative; border: 2px solid green;" width='600' height='400'></canvas>
            <p>Click on the canvas to give it focus. QWEASD controls pitch/yaw/roll of cube. HJKL moves cube left/right, up/down.</p>
        </div>
        <script src="build/wireframe.min.js"></script>
        <script>
            (function () {
                var Vector = wireframe.math.Vector;
                var Vertex = wireframe.math.Vertex;
                var Mesh = wireframe.math.Mesh;

                var Scene = wireframe.engine.Scene;
                var Camera = wireframe.engine.Camera;

                var cube = new Mesh('cube',
                    [
                        new Vertex(new Vector(-40, -40, -40), 'red'),
                        new Vertex(new Vector(-40, -40,  40), 'red'),
                        new Vertex(new Vector(-40,  40, -40), 'red'),
                        new Vertex(new Vector(-40,  40,  40), 'red'),
                        new Vertex(new Vector( 40, -40, -40), 'red'),
                        new Vertex(new Vector( 40, -40,  40), 'red'),
                        new Vertex(new Vector( 40,  40, -40), 'red'),
                        new Vertex(new Vector( 40,  40,  40), 'red')
                    ],
                    [
                        {edge: [0, 1], color: 'red'},
                        {edge: [1, 3], color: 'red'},
                        {edge: [3, 2], color: 'red'},
                        {edge: [2, 0], color: 'red'},
                        {edge: [4, 5], color: 'red'},
                        {edge: [5, 7], color: 'red'},
                        {edge: [7, 6], color: 'red'},
                        {edge: [6, 4], color: 'red'},
                        {edge: [0, 4], color: 'red'},
                        {edge: [1, 5], color: 'red'},
                        {edge: [2, 6], color: 'red'},
                        {edge: [3, 7], color: 'red'}
                    ]
                    );

                var xaxis = new Mesh('xaxis',
                    [
                        new Vertex(new Vector(-80, 0, 0), 'blue'),
                        new Vertex(new Vector(80, 0, 0), 'blue')
                    ],
                    [
                        {edge: [0,1], color: 'green'}
                    ]
                    );
                var yaxis = new Mesh('yaxis',
                    [
                        new Vertex(new Vector(0, -80, 0), 'blue'),
                        new Vertex(new Vector(0, 80, 0), 'blue')
                    ],
                    [
                        {edge: [0,1], color: 'green'}
                    ]
                    );
                var zaxis = new Mesh('zaxis',
                    [
                        new Vertex(new Vector(0, 0, -80), 'blue'),
                        new Vertex(new Vector(0, 0, 80), 'blue')
                    ],
                    [
                        {edge: [0,1], color: 'green'}
                    ]
                    );

                function onUpdate(){
                    if (scene.isKeyDown('h')) {
                        scene.meshes[0].position.x -= 1;
                    }
                    if (scene.isKeyDown('j')) {
                        scene.meshes[0].position.y += 1;
                    }
                    if (scene.isKeyDown('k')) {
                        scene.meshes[0].position.y -= 1;
                    }
                    if (scene.isKeyDown('l')) {
                        scene.meshes[0].position.x += 1;
                    }
                    if (scene.isKeyDown('w')) {
                        scene.meshes[0].rotation.yaw -= 0.03;
                    }
                    if (scene.isKeyDown('a')) {
                        scene.meshes[0].rotation.pitch -= 0.03;
                    }
                    if (scene.isKeyDown('s')) {
                        scene.meshes[0].rotation.yaw += 0.03;
                    }
                    if (scene.isKeyDown('d')) {
                        scene.meshes[0].rotation.pitch += 0.03;
                    }
                    if (scene.isKeyDown('q')) {
                        scene.meshes[0].rotation.roll += 0.03;
                    }
                    if (scene.isKeyDown('e')) {
                        scene.meshes[0].rotation.roll -= 0.03;
                    }
                }

                var scene = new Scene({
                                canvas_id: 'audiocanvas',
                                axes: false
                            });

                scene.onUpdate = onUpdate;
                scene.addMesh(cube);
                scene.addMesh(xaxis);
                scene.addMesh(yaxis);
                scene.addMesh(zaxis);
                scene.renderScene();
            })();
        </script>
    </body>
</html>
